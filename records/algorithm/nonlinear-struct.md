---
title: éçº¿æ€§ç»“æ„
date: 2023/10/31
author: senmu
---

éçº¿æ€§ç»“æ„åŒ…æ‹¬å“ˆå¸Œè¡¨ã€æ ‘ã€å †ã€å›¾ã€‚

## å“ˆå¸Œè¡¨

> å“ˆå¸Œè¡¨æ¶‰åŠåˆ°çš„åŸºç¡€æ€§ä¸œè¥¿æ˜¯å“ˆå¸Œè¡¨çš„å­˜å‚¨å’Œå“ˆå¸Œå‡½æ•°ï¼Œå…¶ä¸­æ ¸å¿ƒç‚¹å°±æ˜¯å“ˆå¸Œå‡½æ•°ã€‚

å¯ä»¥æƒ³åƒä¸€ä¸‹å›¾ä¹¦ç®¡ç†å‘˜åœ¨å›¾ä¹¦é¦†ä¸­æ·»åŠ æ–°ä¹¦ç±ã€æŸ¥æ‰¾æ–°ä¹¦ç±çš„æƒ…æ™¯ï¼›åœ¨æ–°ä¹¦ç±æ·»åŠ æ—¶ä¼šæ·»åŠ ç‰¹å®šçš„ç¼–å·ç„¶åæŒ‰ç…§ç¼–å·å­˜æ”¾åœ¨å¯¹åº”çš„ä½ç½®ï¼Œåœ¨éœ€è¦æŸ¥æ‰¾æŸä¸ªä¹¦ç±æ—¶æ‰¾åˆ°ä¹¦ç±å¯¹åº”çš„ç¼–å·ç„¶åæ ¹æ®ç¼–å·æ‰¾åˆ°å¯¹åº”ä½ç½®ã€‚è¿™å…¶ä¸­æ­£æ˜¯è¿ç”¨å“ˆå¸Œè¡¨çš„æ€æƒ³ï¼Œå“ˆå¸Œå‡½æ•°å°±æ˜¯ä¹¦ç±ä¸ç¼–å·çš„å¯¹åº”å…³ç³»ï¼Œå­˜å‚¨å°±æ˜¯ä¹¦ç±å­˜æ”¾çš„ä½ç½®ï¼›é€šè¿‡ç¼–å·ä¸ä¹¦ç±çš„æ˜ å°„å…³ç³»ä¾¿äºç®¡ç†ä¸æŸ¥æ‰¾ä¹¦ç±çš„æ•ˆç‡ã€‚

æ‰€ä»¥ï¼Œå“ˆå¸Œè¡¨å…¶å®å°±æ˜¯ `data` é€šè¿‡æ•°ç»„å­˜å‚¨åœ¨æŸä¸ªç©ºé—´ï¼Œæ‰¾åˆ° `key` ä¸ `data` é—´çš„æ˜ å°„å…³ç³»ï¼ˆå“ˆå¸Œå‡½æ•°ï¼‰ï¼Œç„¶åæ ¹æ®æ˜ å°„å…³ç³»å¯¹äºæ•°æ®è¿›è¡Œæ“ä½œã€‚

ä¸¾ä¸ªä¾‹å­ï¼šæœ‰ A ç­çº§ï¼Œæ¯ä¸ªåŒå­¦éƒ½æœ‰å­¦å·ä¸å§“åï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥è®¾è®¡ä¸€ä¸ªå“ˆå¸Œè¡¨æ¥è®©å­¦å·ä¸å§“åå¯¹åº”å­˜å‚¨ã€‚

```ts
/***
 * æ•°æ®å¦‚ä¸‹ï¼š
 * å­¦å·|12836|15937|16750|13276|10583|
 * å§“å| å°æ˜ | å°çº¢ | å°ç™½ | å°å• | å¼ ä¸‰ |
*/

/**
 * ç®€å•è®¾è®¡ï¼š
 * å­˜å‚¨ï¼šé‡‡ç”¨æ•°ç»„æ¥å­˜å‚¨å­¦å·ä¸å§“åçš„å®Œæ•´æ•°æ®ï¼Œå­˜å‚¨çš„ä½ç½®ç”±å“ˆå¸Œå‡½æ•°å¯¹åº”çš„å…³ç³»æ¥å­˜å‚¨
 * å“ˆå¸Œå‡½æ•°ï¼šhash(key) % capacity
 *  1. é€šè¿‡æŸç§å“ˆå¸Œç®—æ³•å¾—åˆ°å“ˆå¸Œå€¼
 *  2. å°†å“ˆå¸Œå€¼å¯¹åº”æ•°ç»„å®¹é‡å–æ¨¡ï¼Œä»è€Œå¾—åˆ°è¯¥ key å¯¹åº” çš„ index
*/

// æ ¹æ®æ•°æ®è®¾è®¡æ•°ç»„å®¹é‡ä¸º 100ï¼Œå“ˆå¸Œå‡½æ•°ä¸º key % 100 å¾—åˆ°çš„æ•°å€¼å½“ä½œæ•°ç»„ä¸‹æ ‡è¿›è¡Œå­˜å‚¨ç®¡ç†

// é”®å€¼å¯¹
class Pair {
  public key: number
  public value: string

  constructor(key: number, value: string) {
    this.key = key
    this.value = value
  }
}

// åˆ©ç”¨æ•°ç»„ç®€å•çš„å®ç°å“ˆå¸Œè¡¨
class ArrayHashMap {
  // å­˜å‚¨æ€»æ•°æ®çš„æ•°ç»„
  private hashArr: Array<Pair | null>

  constructor() {
    this.hashArr = new Array(100).fill(null)
  }

  // å“ˆå¸Œå‡½æ•°
  private hashFunc(key: number) {
    return key % 100
  }

  // è·å–æ•°æ®
  public get(key: number) {
    const index = this.hashFunc(key)
    const pair = this.hashArr[index]
    return pair ? pair.value : null
  }

  // æ·»åŠ æ•°æ®
  public set(key: number, value: string) {
    const index = this.hashFunc(key)
    this.hashArr[index] = new Pair(key, value)
  }

  // åˆ é™¤æ•°æ®
  public delete(key: number) {
    const index = this.hashFunc(key)
    this.hashArr[index] = null
  }

  // è·å–æ‰€æœ‰çš„é”®å€¼å¯¹
  public entries() {
    const arr = []
    for (let i = 0; i < this.hashArr.length; i++) {
      if (this.hashArr[i]) {
        arr.push(this.hashArr[i])
      }
    }
    return arr
  }

  // è·å–æ‰€æœ‰é”®
  public keys() {
    const arr = []
    for (let i = 0; i < this.hashArr.length; i++) {
      const bucket = this.hashArr[i]
      if (bucket && bucket.key) {
        arr.push(bucket.key)
      }
    }
    return arr
  }

  // è·å–æ‰€æœ‰å€¼
  public keys() {
    const arr = []
    for (let i = 0; i < this.hashArr.length; i++) {
      const bucket = this.hashArr[i]
      if (bucket && bucket.value) {
        arr.push(bucket.value)
      }
    }
    return arr
  }
}

```

### å“ˆå¸Œå†²çª

ä¸Šé¢çš„ç®€å•å®ç°å¯èƒ½å­˜åœ¨**å“ˆå¸Œå†²çª**çš„æ—¶å€™ï¼Œæ¯”å¦‚å­¦å· 15136ã€24336ã€‚

å½“ç„¶ï¼Œå¦‚æœé‡åˆ°äº†å†²çªçš„æƒ…å†µæˆ‘ä»¬å¯ä»¥é€‰æ‹©**å“ˆå¸Œæ‰©å®¹**çš„æ–¹å¼ï¼Œä¸è¿‡è¿™ç§æ–¹å¼è¿‡äºç®€å•ç²—æš´ï¼Œè€Œä¸”æ€§èƒ½ä¹Ÿä¸å¥½ï¼Œæ‰€ä»¥ä¸€èˆ¬æƒ…å†µä¸‹æˆ‘ä»¬é‡åˆ°å†²çªä¼šå…ˆä½¿ç”¨ç­–ç•¥æ¥ä¿è¯å†²çªå­˜åœ¨ä¹Ÿä¸å½±å“æˆ‘ä»¬æ­£å¸¸æ“ä½œï¼Œå½“å†²çªè¾¾åˆ°ä¸€å®šé˜ˆå€¼æ‰ä¼šè¿›è¡Œæ‰©å®¹ã€‚

ä¸‹é¢ä¸€èµ·æ¥çœ‹çœ‹å¯ä»¥è§£å†³**å“ˆå¸Œå†²çª**çš„ç­–ç•¥ã€‚

#### é“¾å¼åœ°å€

åœ¨åŸå§‹çš„å“ˆå¸Œè¡¨å­˜å‚¨æ—¶æ˜¯ä¸€ä¸ªâ€œæ¡¶â€å­˜å‚¨ä¸€æ¡æ•°æ®ï¼Œè¿™æ ·å¾ˆå®¹æ˜“é‡åˆ°å“ˆå¸Œå†²çªçš„é—®é¢˜ï¼Œå°†å­˜å‚¨æ”¹ä¸ºé“¾å¼åœ°å€çš„æ–¹å¼å°±å¯ä»¥è§£å†³è¯¥é—®é¢˜ã€‚ä½†æ˜¯è¦æ³¨æ„å“ˆå¸Œå†²çªå¦‚æœè¿‡å¤šé‚£ä¹ˆæ€§èƒ½å°†ä¼šå˜å¾—æå·®ï¼Œæ‰€ä»¥éœ€è¦è®¾ç½®ä¸€ä¸ªåˆç†çš„é˜ˆå€¼è¶…è¿‡è¯¥å€¼çš„è¯å°±éœ€è¦è¿›è¡Œæ‰©å®¹ã€‚

#### å¼€æ”¾å¯»å€


## æ ‘ğŸŒ²

### äºŒå‰æ ‘

ç®€å•ç†è§£å°±æ˜¯æ‹¥æœ‰ä¸¤ä¸ªåˆ†æ”¯/å‰çš„æ ‘ï¼ˆèŠ‚ç‚¹ï¼‰ï¼Œå®ƒæ˜¯ä¸€ç§éçº¿æ€§ç»“æ„ï¼Œä¸€ä¸ªèŠ‚ç‚¹åŒ…æ‹¬å·¦å³ä¸¤ä¸ªå­èŠ‚ç‚¹ï¼Œå­èŠ‚ç‚¹ä¸çˆ¶èŠ‚ç‚¹é å¼•ç”¨ï¼ˆæŒ‡é’ˆï¼‰è¿æ¥ã€‚å’Œé“¾è¡¨æœ‰äº›ç›¸ä¼¼æ˜¯ä¸æ˜¯ğŸ¤”ï¸

```ts
class TreeNode {
  val: number
  left: TreeNode | null
  right: TreeNode | null

  constructor(val?: number, left?: TreeNode, right?: TreeNode) {
    this.val = val === undefined ? 0 : val
    this.left = left === undefined ? null : left
    this.right = right === undefined ? null : right
  }
}
```

### äºŒå‰æ ‘çš„å¸¸è§æœ¯è¯­

* æ ¹èŠ‚ç‚¹ï¼ˆroot nodeï¼‰ï¼šä½äºäºŒå‰æ ‘çš„é¡¶å±‚ï¼Œæ²¡æœ‰çˆ¶èŠ‚ç‚¹ã€‚
* å¶èŠ‚ç‚¹ï¼ˆleaf nodeï¼‰ï¼šä½äºäºŒå‰æ ‘çš„æœ€åº•å±‚ï¼Œæ²¡æœ‰å­èŠ‚ç‚¹ã€‚
* è¾¹ï¼ˆedgeï¼‰ï¼šè¿æ¥çˆ¶å­èŠ‚ç‚¹ä¹‹é—´çš„å¼•ç”¨ï¼ˆæŒ‡é’ˆï¼‰ã€‚
* èŠ‚ç‚¹æ‰€åœ¨çš„å±‚ï¼ˆlevelï¼‰ï¼šä»é¡¶è‡³åº•é€’å¢ï¼Œé¡¶å±‚æ ¹èŠ‚ç‚¹ä¸º 1ã€‚
* èŠ‚ç‚¹çš„åº¦ï¼ˆdegreeï¼‰ï¼šèŠ‚ç‚¹çš„å­èŠ‚ç‚¹çš„æ•°é‡ï¼ŒèŒƒå›´ä¸º0ã€1ã€2ã€‚
* äºŒå‰æ ‘çš„é«˜åº¦ï¼ˆheightï¼‰ï¼šæ ¹èŠ‚ç‚¹è·ç¦»æœ€è¿œå¶èŠ‚ç‚¹ä¹‹é—´èµ°è¿‡çš„è¾¹çš„æ•°é‡ã€‚
* èŠ‚ç‚¹çš„æ·±åº¦ï¼ˆdepthï¼‰ï¼šæ ¹èŠ‚ç‚¹è·ç¦»å½“å‰èŠ‚ç‚¹ä¹‹é—´èµ°è¿‡çš„è¾¹çš„æ•°é‡ã€‚
* èŠ‚ç‚¹çš„é«˜åº¦ï¼ˆheightï¼‰ï¼šå½“å‰èŠ‚ç‚¹è·ç¦»æœ€è¿œå¶èŠ‚ç‚¹ä¹‹é—´èµ°è¿‡çš„è¾¹çš„æ•°é‡ã€‚

### äºŒå‰æ ‘çš„åŸºæœ¬æ“ä½œ

#### åˆå§‹åŒ–äºŒå‰æ ‘

å¦‚ä¸‹çš„æ ‘ï¼š
      1
     / \
    2   3
   / \
  4   5

```ts
/* åˆå§‹åŒ–äºŒå‰æ ‘ */
// åˆå§‹åŒ–èŠ‚ç‚¹
let n1 = new TreeNode(1),
    n2 = new TreeNode(2),
    n3 = new TreeNode(3),
    n4 = new TreeNode(4),
    n5 = new TreeNode(5);
// æ„å»ºå¼•ç”¨æŒ‡å‘ï¼ˆå³æŒ‡é’ˆï¼‰
n1.left = n2;
n1.right = n3;
n2.left = n4;
n2.right = n5;
```

#### æ’å…¥ä¸åˆ é™¤èŠ‚ç‚¹

æˆ‘ä»¬æƒ³è¦åœ¨ `n1` ä¸ `n2` å¤„æ·»åŠ ä¸€ä¸ªèŠ‚ç‚¹ `p`

```ts
//åˆå§‹åŒ– p èŠ‚ç‚¹
const p = new TreeNode(0);
// æ’å…¥ p èŠ‚ç‚¹
n1.left = p;
p.left = n2;
// åˆ é™¤ p èŠ‚ç‚¹
n1.left = n2;
```

### å¸¸è§äºŒå‰æ ‘çš„ç±»å‹

#### å®Œç¾äºŒå‰æ ‘/æ»¡äºŒå‰æ ‘ï¼ˆperfect binary treeï¼‰

å®Œç¾çš„äºŒå‰æ ‘ï¼Œæ‰€æœ‰çš„èŠ‚ç‚¹éƒ½æœ‰å·¦å³å­èŠ‚ç‚¹ï¼Œå½“ç„¶ï¼Œå¶èŠ‚ç‚¹çš„åº¦ä¸º 0ã€‚

#### å®Œå…¨äºŒå‰æ ‘ï¼ˆcomplete binary treeï¼‰

åªæœ‰æœ€åº•å±‚èŠ‚ç‚¹æœªè¢«å¡«æ»¡ï¼Œå½“ç„¶ï¼Œè¦æ»¡è¶³ä¼˜å…ˆå¡«å……å·¦èŠ‚ç‚¹ã€‚

> 1 ä¸‹é¢ä¸ºå•¥æœ‰ä¸¤ä¸ªè¾¹ï¼Ÿæ˜¯å› ä¸ºä¸è¿™æ ·çš„è¯ 5 ä¸ 6 å°±ç²˜ä¸€èµ·äº†ï¼Œå®é™…æŠŠ 1 ä¸‹é¢å½“æˆä¸€ä¸ªè¾¹å°±å¥½äº†ã€‚

         1
        / \
       /   \
      2     3
     / \   /
    4   5 6   
#### å®Œæ»¡äºŒå‰æ ‘ï¼ˆfull binary treeï¼‰

é™¤äº†å¶èŠ‚ç‚¹ä¹‹å¤–ï¼Œå…¶ä»–èŠ‚ç‚¹å¿…é¡»æœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹ã€‚

        1
       / \
      2   3
     / \
    4   5    

#### å¹³è¡¡äºŒå‰æ ‘ï¼ˆbalanced binary treeï¼‰

ä»»æ„èŠ‚ç‚¹çš„å·¦å­æ ‘ä¸å³å­æ ‘ä¹‹é—´é«˜åº¦å·®çš„ç»å¯¹å€¼ä¸è¶…è¿‡ 1ã€‚

        1
       / \
      2   3
     /   / \
    4   5   6
       / \
      7   8

### äºŒå‰æ ‘çš„é€€åŒ–

æƒ³è±¡ä¸€ä¸‹ï¼Œå¦‚æœæ‰€æœ‰çš„èŠ‚ç‚¹åªæœ‰å·¦å­èŠ‚ç‚¹ä¼šå‘ç”Ÿä»€ä¹ˆäº‹æƒ…ï¼Ÿæ˜¯ä¸æ˜¯å˜æˆäº†ä¸€ä¸ªé“¾è¡¨

### äºŒå‰æ ‘çš„éå†

#### å¹¿åº¦ä¼˜å…ˆ

ä½¿ç”¨é˜Ÿåˆ—å®Œæˆéå†

```ts
function levelOrder(root: TreeNode | null) {
  if (!root) return
  // åˆå§‹åŒ–é˜Ÿåˆ—
  const queue = [root]
  // åˆå§‹åŒ–éå†å®¹å™¨
  const list = []
  while(queue.length) {
    const node = queue.shift()
    list.push(node.val)
    if (node.left) {
      queue.push(node.left)
    }
    if (node.right) {
      queue.push(node.right)
    }
  }

  return list
}
```

#### æ·±åº¦ä¼˜å…ˆ

* **å…ˆåºéå†**æ˜¯æ ¹å·¦å³
* **ä¸­åºéå†**æ˜¯å·¦æ ¹å³
* **ååºéå†**æ˜¯å·¦å³ä¸­

        1
       / \
      2   3
     /   / \
    4   5   6
       / \
      7   8

æ‹¿ä¸Šé¢çš„ä¾‹å­æ¥ä¸¾ä¾‹ï¼š

```ts
const list = []
// å…ˆåºéå†
function preOrder(root: TreeNode | null) {
  if (root === null) return
  list.push(root.val)
  preOrder(root.left)
  preOrder(root.right)
}

// ä¸­åºéå†
function inOrder(root: TreeNode | null) {
  if (root === null) return
  inOrder(root.left)
  list.push(root.val)
  inOrder(root.right)
}

// ååºéå†
function postOrder(root: TreeNode | null) {
  if (root === null) return
  postOrder(root.left)
  postOrder(root.right)
  list.push(root.val)
}
```